# EIP-1474 简介

EIP-1474 全称为"Remote procedure call specification"(远程过程调用规范)，它旨在为以太坊客户端的 JSON-RPC API 提供一个标准化的规范。这个规范旨在统一不同以太坊客户端实现之间的 RPC 接口，提高开发效率和互操作性。

在 EIP-1474 之前，不同的以太坊客户端(如 Geth， Parity 等)可能会实现略微不同的 JSON-RPC API。这种差异给开发者带来了困扰，尤其是在跨客户端开发时。

EIP-1474 主要内容:

- 定义了一套标准的 JSON-RPC 方法名称和参数
- 规定了返回值的格式和数据类型
- 明确了错误处理机制和错误代码


##  规范详情

### 错误处理

定义了标准的错误码和错误消息格式，包括通用错误和以太坊特定错误

以下是一些常见的错误码示例：

- 32700: Parse error
- 32600: Invalid Request
- 32601: Method not found
- 32602: Invalid params
- 32603: Internal error
- 32000 to -32099: Server error (reserved for implementation-specific errors)

### 值编码


### 核心方法
EIP-1474 列出了一系列必须实现的核心方法，包括但不限于:

- eth_blockNumber：返回最新区块的编号
- eth_getBlockByHash：通过区块哈希返回区块信息
- eth_getBlockByNumber：通过区块编号返回区块信息
- eth_getTransactionByHash：通过交易哈希返回交易信息
- eth_sendRawTransaction：发送已签名的交易
- ...

## 示例
查询最新区块的编号：
```
curl -X POST --data '{
    "id": 1337,
    "jsonrpc": "2.0",
    "method": "eth_blockNumber",
    "params": []
}' https://rpc.ankr.com/eth
```

返回值：
```
{
    "id": 1337,
    "jsonrpc": "2.0",
    "result": "0x13dae5c" 
}
```


### 结论
EIP-1474 是以太坊生态系统标准化和成熟化的重要一步。它为开发者提供了一个一致的接口，有助于推动以太坊的广泛应用和发展。